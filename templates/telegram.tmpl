{{ define "telegram.message" }}
{{ if eq .Status "firing" }}ğŸš¨{{ else }}âœ…{{ end }} <b>{{ .GroupLabels.alertname }}</b>

{{ if eq .Status "firing" }}
Status: <b>{{ .Status | toUpper }}</b>
Alerts: <b>{{ .Alerts.Firing | len }}</b>
{{ else }}
Status: <b>RESOLVED</b>
{{ end }}

{{ range .Alerts }}
{{ if eq .Status "firing" }}ğŸ”´{{ else }}ğŸŸ¢{{ end }} <b>{{ .Annotations.summary | default .Labels.alertname }}</b>

{{ if .Annotations.description }}
ğŸ“ {{ .Annotations.description }}
{{ end }}

{{ if .Labels.instance }}
ğŸ–¥ï¸ Instance: <code>{{ .Labels.instance }}</code>
{{ end }}

{{ if .Labels.service }}
ğŸ”§ Service: <code>{{ .Labels.service }}</code>
{{ end }}

{{ if .Labels.severity }}
âš ï¸ Severity: <code>{{ .Labels.severity }}</code>
{{ end }}

â° Started: {{ .StartsAt | since }}
{{ if .EndsAt }}
âœ… Resolved: {{ .EndsAt | since }}
{{ end }}

{{ if .Labels }}
ğŸ·ï¸ Labels:
{{ range .Labels.SortedPairs }}
  â€¢ <code>{{ .Name }}: {{ .Value }}</code>
{{ end }}
{{ end }}

{{ if .Annotations }}
ğŸ“‹ Annotations:
{{ range .Annotations.SortedPairs }}
  â€¢ <code>{{ .Name }}: {{ .Value }}</code>
{{ end }}
{{ end }}

{{ end }}
{{ end }}

{{ define "telegram.critical" }}
ğŸš¨ <b>CRITICAL ALERT</b> ğŸš¨

{{ template "telegram.message" . }}
{{ end }}

{{ define "telegram.warning" }}
âš ï¸ <b>WARNING ALERT</b> âš ï¸

{{ template "telegram.message" . }}
{{ end }} 